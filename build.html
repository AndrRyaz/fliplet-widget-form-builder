<div class="is-loading" data-form-builder-id="{{ id }}">
  <form v-if="isConfigured" v-on:submit.prevent="onSubmit" class="fl-form">
    <div v-if="!isSending && !isSent" class="form-html form-horizontal">
      <h2>{{ name }}</h2>
      <hr />
      <div v-for="field in fields">
        <component :is="field._type" v-bind="field" v-on:input="value => { field.value = value }"></component>
        <div class="form-group col-sm-12">
          <hr />
        </div>
      </div>
      <div class="form-group col-sm-12">
        <input class="form-control" type="submit" value="Submit" class="btn btn-primary"/>
        <span v-if="hasRequiredFields" class="label label-info">* marks required fields</span>
      </div>
    </div>
    <div v-else>{{{ resultHtml }}}</div>
  </form>
  <div v-else>
    <p class="alert alert-warning">
      <span v-if="!fields.length">Please add at least one input to your form.</span>
      <span v-else>Please select a target data source where this form should submit to.</span>
    </p>
  </div>
  <p class="alert alert-warning" v-if="error">\{{ error }}</p>
</div>